(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__sfyeP",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2WE_z"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__3lS9J",modal:"Modal_modal__19ezq"}},23:function(e,t,a){e.exports={section:"Section_section__de8WF"}},24:function(e,t,a){e.exports={container:"Container_container__3mVwi"}},25:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2MPy7"}},26:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1gz3i"}},27:function(e,t,a){e.exports={button:"Button_button__3wKA6"}},29:function(e,t,a){e.exports={loaderSpinner:"Spinner_loaderSpinner__3J5ga"}},30:function(e,t,a){e.exports={closeButton:"ButtonClose_closeButton__1sNAO"}},31:function(e,t,a){e.exports={App:"App_App__1nP30"}},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),c=a.n(o),s=a(14),i=a(4),l=a(5),u=a(7),h=a(6),m=a(11),d=a.n(m);d.a.defaults.baseURL="https://pixabay.com/api";var g=function(e){var t=e.serchQuery,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n,o=e.pageSize,c=void 0===o?12:o;return d.a.get("/?key=".concat("19909121-fe72a6a4c0f185ae96ac43b20","&q=").concat(a,"&image_type=photo&page=").concat(r,"&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.data}))},p=a(23),b=a.n(p),j=a(0),f=function(e){var t=e.children;return Object(j.jsx)("section",{className:b.a.section,children:t})},v=a(24),y=a.n(v),_=function(e){var t=e.title,a=e.children;return Object(j.jsxs)("div",{className:y.a.container,children:[t&&Object(j.jsx)("h2",{children:t}),a]})};_.defaultProps={title:""};var O=_,x=a(25),I=a.n(x),S=function(e){var t=e.children;return Object(j.jsx)("header",{className:I.a.searchbar,children:t})};S.defaultProps={children:[]};var w=S,C=a(8),F=a.n(C),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleChangeInput=function(t){var a=t.currentTarget.value;e.setState({search:a})},e.handleSubmitForm=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.resetForm()},e.resetForm=function(){e.setState({search:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(j.jsxs)("form",{className:F.a.searchForm,onSubmit:this.handleSubmitForm,children:[Object(j.jsx)("button",{type:"submit",className:F.a.searchFormButton,children:Object(j.jsx)("span",{className:F.a.searchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:F.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChangeInput})]})}}]),a}(n.Component);M.defaulProps={search:""};var k=M,L=a(12),N=a.n(L),B=function(e){var t=e.src,a=e.alt,n=e.selectedImageModal,r=e.onClick;return Object(j.jsx)("li",{className:N.a.imageGalleryItemImage,onClick:r,children:Object(j.jsx)("img",{src:t,alt:a,"data-source":n,className:N.a.imageGalleryItemImage})})},P=a(26),E=a.n(P),G=function(e){var t=e.images,a=e.openlargeImageURL;return Object(j.jsx)("ul",{className:E.a.imageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,o=e.largeImageURL;return Object(j.jsx)(B,{src:n,alt:r,selectedImageModal:o,onClick:function(){return a(o)}},t)}))})},A=a(27),D=a.n(A),Q=function(e){var t=e.onIncrement;return Object(j.jsx)("button",{type:"button",className:D.a.button,onClick:t,children:"Load more..."})},U=a(28),q=a.n(U),z=(a(75),a(29)),R=a.n(z),J=function(){return Object(j.jsx)(q.a,{className:R.a.loaderSpinner,type:"ThreeDots",color:"#3f51b5",height:80,width:80,timeout:3e3})},K=a(30),T=a.n(K),V=function(e){var t=e.onClose;return Object(j.jsx)("button",{type:"button","data-action":"close-lightbox",className:T.a.closeButton,onClick:t})},W=a(13),H=a.n(W),Z=document.querySelector("#modal-root"),X=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClose=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.url,a=e.onClose;return Object(o.createPortal)(Object(j.jsxs)("div",{className:H.a.overlay,onClick:this.handleBackdropClose,children:[Object(j.jsx)("div",{className:H.a.modal,children:Object(j.jsx)("img",{src:t,alt:""})}),Object(j.jsx)(V,{onClose:a})]}),Z)}}]),a}(n.Component),Y=a(31),$=a.n(Y),ee=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],currentPage:1,serchQuery:"love",selectedImageModal:"",isLoading:!1,hasError:!1,showModal:!1},e.fetchSearchImages=function(){var t=e.state,a=t.serchQuery,n=t.currentPage,r={serchQuery:a,currentPage:n};e.setState({isLoading:!0}),g(r).then((function(t){var a=t.hits;e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(a)),currentPage:e.currentPage+1}})),n>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(t){return e.setState({hasError:!0})})).finally((function(){return e.setState({isLoading:!1})}))},e.onSubmitSearch=function(t){e.setState({serchQuery:t,images:[],currentPage:1,hasError:!1,selectedImageModal:""})},e.handleClickBtnIncrement=function(){e.fetchSearchImages()},e.toggleModal=function(){e.setState((function(t){return{showModal:!e.state.showModal}}))},e.handleLargeImageModal=function(t){e.setState({selectedImageModal:t}),e.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchSearchImages()}},{key:"componentDidUpdate",value:function(e,t){t.serchQuery!==this.state.serchQuery&&this.fetchSearchImages()}},{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log(e)}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.hasError,r=e.selectedImageModal,o=e.showModal;return Object(j.jsxs)(j.Fragment,{children:[n&&alert("Something went wrong, please try again later :("),Object(j.jsx)(w,{children:Object(j.jsx)(O,{children:Object(j.jsx)(k,{onSubmit:this.onSubmitSearch})})}),Object(j.jsx)(f,{children:Object(j.jsxs)(O,{children:[Object(j.jsxs)("div",{className:$.a.App,children:[Object(j.jsx)(G,{images:t,openlargeImageURL:this.handleLargeImageModal}),a&&Object(j.jsx)(J,{}),t.length>=12&&!a&&Object(j.jsx)(Q,{onIncrement:this.handleClickBtnIncrement})]}),o&&Object(j.jsx)(X,{onClose:this.toggleModal,url:r})]})})]})}}]),a}(n.Component);ee.defaultProps={images:[],currentPage:1,serchQuery:"",selectedImageModal:"",isLoading:!1,hasError:!1,showModal:!1};var te=ee;a(76),a(77);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(te,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1nisl",searchFormButton:"SearchForm_searchFormButton__2Vh5Z",searchFormButtonLabel:"SearchForm_searchFormButtonLabel__pVqC2",searchFormInput:"SearchForm_searchFormInput__2M3qF"}}},[[78,1,2]]]);
//# sourceMappingURL=main.477ab983.chunk.js.map